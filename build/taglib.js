var TagLibWASM = (() => {
  var _scriptName = typeof document != 'undefined' ? document.currentScript?.src : undefined;
  return (
async function(moduleArg = {}) {
  var moduleRtn;

var d=moduleArg,aa="object"==typeof window,ba="undefined"!=typeof WorkerGlobalScope,l="object"==typeof process&&process.versions?.node&&"renderer"!=process.type,m="./this.program";"undefined"!=typeof __filename&&(_scriptName=__filename);var q="",r,t;
if(l){var fs=require("fs");q=__dirname+"/";t=a=>{a=u(a)?new URL(a):a;return fs.readFileSync(a)};r=async a=>{a=u(a)?new URL(a):a;return fs.readFileSync(a,void 0)};1<process.argv.length&&(m=process.argv[1].replace(/\\/g,"/"));process.argv.slice(2)}else if(aa||ba){try{q=(new URL(".",_scriptName)).href}catch{}r=async a=>{a=await fetch(a,{credentials:"same-origin"});if(a.ok)return a.arrayBuffer();throw Error(a.status+" : "+a.url);}}console.log.bind(console);
var v=console.error.bind(console),w,x=!1,u=a=>a.startsWith("file://"),y,z,A,B,C,D,E,F,G,H,I,J=!1;function K(){var a=A.buffer;B=new Int8Array(a);D=new Int16Array(a);C=new Uint8Array(a);new Uint16Array(a);E=new Int32Array(a);F=new Uint32Array(a);G=new Float32Array(a);H=new Float64Array(a);I=new BigInt64Array(a);new BigUint64Array(a)}var L=0,M=null;function N(a){d.onAbort?.(a);a="Aborted("+a+")";v(a);x=!0;a=new WebAssembly.RuntimeError(a+". Build with -sASSERTIONS for more info.");z?.(a);throw a;}var O;
async function ea(a){if(!w)try{var c=await r(a);return new Uint8Array(c)}catch{}if(a==O&&w)a=new Uint8Array(w);else if(t)a=t(a);else throw"both async and sync fetching of the wasm failed";return a}async function fa(a,c){try{var b=await ea(a);return await WebAssembly.instantiate(b,c)}catch(e){v(`failed to asynchronously prepare wasm: ${e}`),N(e)}}
async function ha(a){var c=O;if(!w&&"function"==typeof WebAssembly.instantiateStreaming&&!l)try{var b=fetch(c,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(b,a)}catch(e){v(`wasm streaming compile failed: ${e}`),v("falling back to ArrayBuffer instantiation")}return fa(c,a)}var P=a=>{for(;0<a.length;)a.shift()(d)},Q=[],R=[],ia=()=>{var a=d.preRun.shift();R.push(a)};class ja{constructor(a){this.U=a-24}}
var S=0,ka=0,T=(a,c,b,e)=>{if(!(0<e))return 0;var f=b;e=b+e-1;for(var g=0;g<a.length;++g){var h=a.codePointAt(g);if(127>=h){if(b>=e)break;c[b++]=h}else if(2047>=h){if(b+1>=e)break;c[b++]=192|h>>6;c[b++]=128|h&63}else if(65535>=h){if(b+2>=e)break;c[b++]=224|h>>12;c[b++]=128|h>>6&63;c[b++]=128|h&63}else{if(b+3>=e)break;c[b++]=240|h>>18;c[b++]=128|h>>12&63;c[b++]=128|h>>6&63;c[b++]=128|h&63;g++}}c[b]=0;return b-f},U={},la=()=>{if(!V){var a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",
LANG:("object"==typeof navigator&&navigator.language||"C").replace("-","_")+".UTF-8",_:m||"./this.program"},c;for(c in U)void 0===U[c]?delete a[c]:a[c]=U[c];var b=[];for(c in a)b.push(`${c}=${a[c]}`);V=b}return V},V,W=a=>{for(var c=0,b=0;b<a.length;++b){var e=a.charCodeAt(b);127>=e?c++:2047>=e?c+=2:55296<=e&&57343>=e?(c+=4,++b):c+=3}return c},ma="undefined"!=typeof TextDecoder?new TextDecoder:void 0,na=(a=0)=>{for(var c=C,b=a+NaN,e=a;c[e]&&!(e>=b);)++e;if(16<e-a&&c.buffer&&ma)return ma.decode(c.subarray(a,
e));for(b="";a<e;){var f=c[a++];if(f&128){var g=c[a++]&63;if(192==(f&224))b+=String.fromCharCode((f&31)<<6|g);else{var h=c[a++]&63;f=224==(f&240)?(f&15)<<12|g<<6|h:(f&7)<<18|g<<12|h<<6|c[a++]&63;65536>f?b+=String.fromCharCode(f):(f-=65536,b+=String.fromCharCode(55296|f>>10,56320|f&1023))}}else b+=String.fromCharCode(f)}return b},qa=(a,c,b,e)=>{var f={string:k=>{var p=0;if(null!==k&&void 0!==k&&0!==k){p=W(k)+1;var ca=X(p);T(k,C,ca,p);p=ca}return p},array:k=>{var p=X(k.length);B.set(k,p);return p}};
a=d["_"+a];var g=[],h=0;if(e)for(var n=0;n<e.length;n++){var da=f[b[n]];da?(0===h&&(h=oa()),g[n]=da(e[n])):g[n]=e[n]}b=a(...g);return b=function(k){0!==h&&pa(h);return"string"===c?k?na(k):"":"boolean"===c?!!k:k}(b)};d.printErr&&(v=d.printErr);d.wasmBinary&&(w=d.wasmBinary);d.thisProgram&&(m=d.thisProgram);d.ccall=qa;d.cwrap=(a,c,b,e)=>{var f=!b||b.every(g=>"number"===g||"boolean"===g);return"string"!==c&&f&&!e?d["_"+a]:(...g)=>qa(a,c,b,g,e)};
d.setValue=function(a,c,b="i8"){b.endsWith("*")&&(b="*");switch(b){case "i1":B[a]=c;break;case "i8":B[a]=c;break;case "i16":D[a>>1]=c;break;case "i32":E[a>>2]=c;break;case "i64":I[a>>3]=BigInt(c);break;case "float":G[a>>2]=c;break;case "double":H[a>>3]=c;break;case "*":F[a>>2]=c;break;default:N(`invalid type for setValue: ${b}`)}};
d.getValue=function(a,c="i8"){c.endsWith("*")&&(c="*");switch(c){case "i1":return B[a];case "i8":return B[a];case "i16":return D[a>>1];case "i32":return E[a>>2];case "i64":return I[a>>3];case "float":return G[a>>2];case "double":return H[a>>3];case "*":return F[a>>2];default:N(`invalid type for getValue: ${c}`)}};d.intArrayFromString=(a,c,b)=>{b=Array(0<b?b:W(a)+1);a=T(a,b,0,b.length);c&&(b.length=a);return b};d.ALLOC_NORMAL=0;
d.allocate=(a,c)=>{c=1==c?X(a.length):ra(a.length);a.subarray||a.slice||(a=new Uint8Array(a));C.set(a,c);return c};
var ra,pa,X,oa,sa={a:(a,c,b)=>{var e=new ja(a);F[e.U+16>>2]=0;F[e.U+4>>2]=c;F[e.U+8>>2]=b;S=a;ka++;throw S;},e:()=>N(""),b:(a,c,b,e)=>{var f=(new Date).getFullYear(),g=(new Date(f,0,1)).getTimezoneOffset();f=(new Date(f,6,1)).getTimezoneOffset();F[a>>2]=60*Math.max(g,f);E[c>>2]=Number(g!=f);c=h=>{var n=Math.abs(h);return`UTC${0<=h?"-":"+"}${String(Math.floor(n/60)).padStart(2,"0")}${String(n%60).padStart(2,"0")}`};a=c(g);c=c(f);f<g?(T(a,C,b,17),T(c,C,e,17)):(T(a,C,e,17),T(c,C,b,17))},f:a=>{var c=
C.length;a>>>=0;if(268435456<a)return!1;for(var b=1;4>=b;b*=2){var e=c*(1+.2/b);e=Math.min(e,a+100663296);a:{e=(Math.min(268435456,65536*Math.ceil(Math.max(a,e)/65536))-A.buffer.byteLength+65535)/65536|0;try{A.grow(e);K();var f=1;break a}catch(g){}f=void 0}if(f)return!0}return!1},c:(a,c)=>{var b=0,e=0,f;for(f of la()){var g=c+b;F[a+e>>2]=g;b+=T(f,C,g,Infinity)+1;e+=4}return 0},d:(a,c)=>{var b=la();F[a>>2]=b.length;a=0;for(var e of b)a+=W(e)+1;F[c>>2]=a;return 0}},Y=await (async function(){function a(b){Y=
b.exports;A=Y.g;K();b=Y;d._taglib_file_new_from_buffer=b.i;d._taglib_file_delete=b.j;d._taglib_file_save=b.k;d._taglib_file_is_valid=b.l;d._taglib_file_format=b.m;d._taglib_file_tag=b.n;d._taglib_tag_title=b.o;d._taglib_tag_artist=b.p;d._taglib_tag_album=b.q;d._taglib_tag_comment=b.r;d._taglib_tag_genre=b.s;d._taglib_tag_year=b.t;d._taglib_tag_track=b.u;d._taglib_tag_set_title=b.v;d._taglib_tag_set_artist=b.w;d._taglib_tag_set_album=b.x;d._taglib_tag_set_comment=b.y;d._taglib_tag_set_genre=b.z;d._taglib_tag_set_year=
b.A;d._taglib_tag_set_track=b.B;d._taglib_file_audioproperties=b.C;d._taglib_audioproperties_length=b.D;d._taglib_audioproperties_bitrate=b.E;d._taglib_audioproperties_samplerate=b.F;d._taglib_audioproperties_channels=b.G;d._taglib_file_properties_json=b.H;d._taglib_file_set_properties_json=b.I;d._taglib_file_get_property=b.J;d._taglib_file_set_property=b.K;d._taglib_file_is_mp4=b.L;d._taglib_mp4_get_item=b.M;d._taglib_mp4_set_item=b.N;d._taglib_mp4_remove_item=b.O;d._malloc=ra=b.P;d._free=b.Q;pa=
b.R;X=b.S;oa=b.T;L--;d.monitorRunDependencies?.(L);0==L&&M&&(b=M,M=null,b());return Y}L++;d.monitorRunDependencies?.(L);var c={a:sa};if(d.instantiateWasm)return new Promise(b=>{d.instantiateWasm(c,(e,f)=>{b(a(e,f))})});O??=d.locateFile?d.locateFile("taglib.wasm",q):q+"taglib.wasm";return a((await ha(c)).instance)}());
function Z(){function a(){d.calledRun=!0;if(!x){J=!0;Y.h();y?.(d);d.onRuntimeInitialized?.();if(d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;){var c=d.postRun.shift();Q.push(c)}P(Q)}}if(0<L)M=Z;else{if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)ia();P(R);0<L?M=Z:d.setStatus?(d.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>d.setStatus(""),1);a()},1)):a()}}
if(d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);0<d.preInit.length;)d.preInit.shift()();Z();J?moduleRtn=d:moduleRtn=new Promise((a,c)=>{y=a;z=c});


  return moduleRtn;
}
);
})();
if (typeof exports === 'object' && typeof module === 'object') {
  module.exports = TagLibWASM;
  // This default export looks redundant, but it allows TS to import this
  // commonjs style module.
  module.exports.default = TagLibWASM;
} else if (typeof define === 'function' && define['amd'])
  define([], () => TagLibWASM);
