{"id":"taglib-wasm-0ce","title":"Add @deprecated markers to deprecated APIs (getGlobalWorkerPool, etc.)","status":"open","priority":2,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-11T10:16:15Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T10:16:15Z"}
{"id":"taglib-wasm-0v3","title":"Phase 4: Edge cases and security tests","status":"closed","priority":2,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-10T08:30:06Z","created_by":"Charles Wiltgen","updated_at":"2026-02-10T08:38:48Z","closed_at":"2026-02-10T08:38:48Z","close_reason":"Input validation (14 steps, both backends) and security (5 steps, path traversal) all pass."}
{"id":"taglib-wasm-1x6","title":"Fix worker type checking context","description":"Workers fail deno check because they're type-checked in window/DOM context instead of worker context. Need to isolate worker imports from DOM-dependent code or add /// \u003creference lib=\"webworker\" /\u003e directives.","status":"closed","priority":1,"issue_type":"bug","owner":"charles@wiltgen.net","created_at":"2026-02-09T12:26:53Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T12:53:41Z","closed_at":"2026-02-11T12:53:41Z","close_reason":"Added /// \u003creference lib=\"webworker\" /\u003e directive and typed workerSelf constant"}
{"id":"taglib-wasm-2k9","title":"Handle url.pathname leading slash on Windows in resolveWasmPath","description":"new URL('file:///C:/foo/bar.wasm').pathname returns '/C:/foo/bar.wasm' with a leading slash on Windows. Deno/Node readFile handles this, but for maximum portability consider using import.meta.resolve() or platform checks. Low priority since WASI path goes to fetch() or fs.readFile() which handle it natively.","status":"open","priority":4,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-19T17:53:21Z","created_by":"Charles Wiltgen","updated_at":"2026-02-19T17:53:21Z"}
{"id":"taglib-wasm-2pu","title":"Create build/build-eh-sysroot.sh script","status":"closed","priority":2,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-09T15:29:07Z","created_by":"Charles Wiltgen","updated_at":"2026-02-09T15:30:45Z","closed_at":"2026-02-09T15:30:45Z","close_reason":"Closed"}
{"id":"taglib-wasm-2sq","title":"Verify WASM file resolution chain for npm consumers","description":"dist/index.js:177,179 references 'taglib.wasm' but actual files are taglib-web.wasm, taglib-wasi.wasm, taglib_wasi.wasm. Verify the Emscripten wrapper resolution actually works for npm consumers.","status":"closed","priority":1,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-10T15:48:46Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T14:15:34Z","closed_at":"2026-02-11T14:15:34Z","close_reason":"Verified: dist/ is gitignored, CI rebuilds. taglib-wrapper.js correctly resolves taglib-web.wasm via import.meta.url relative to dist/."}
{"id":"taglib-wasm-2xw","title":"Add missing sidecar test coverage","description":"Add tests for: process crash mid-operation, malformed MessagePack responses, concurrent operations, shutdown during active operation, large responses.","status":"open","priority":2,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-09T12:26:47Z","created_by":"Charles Wiltgen","updated_at":"2026-02-09T12:26:47Z"}
{"id":"taglib-wasm-2xx","title":"Rename simple API stragglers to read*/apply* convention","status":"closed","priority":2,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-11T17:49:36Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T17:58:13Z","closed_at":"2026-02-11T17:58:13Z","close_reason":"Closed"}
{"id":"taglib-wasm-2zu","title":"Split runtime/detector.ts (277 lines) into sub-modules","status":"open","priority":3,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-14T15:08:34Z","created_by":"Charles Wiltgen","updated_at":"2026-02-14T15:08:34Z"}
{"id":"taglib-wasm-3nc","title":"Remove ghost writeTags JSDoc reference","description":"index.ts:82 has @see writeTags - Deprecated alias for applyTags but writeTags does not exist as a public export. Misleading API docs.","status":"closed","priority":0,"issue_type":"bug","owner":"charles@wiltgen.net","created_at":"2026-02-10T15:48:57Z","created_by":"Charles Wiltgen","updated_at":"2026-02-10T16:31:49Z","closed_at":"2026-02-10T16:31:49Z","close_reason":"Removed ghost writeTags JSDoc, fixed simple.ts example to use applyTags"}
{"id":"taglib-wasm-40c","title":"Remove unused .husky/ directory (using .githooks/ instead)","status":"open","priority":3,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-11T10:16:12Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T10:16:12Z"}
{"id":"taglib-wasm-41s","title":"Split msgpack/index.ts (326 lines) into sub-modules","status":"open","priority":3,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-14T15:08:33Z","created_by":"Charles Wiltgen","updated_at":"2026-02-14T15:08:33Z"}
{"id":"taglib-wasm-46n","title":"Split msgpack/types.ts (296 lines) into sub-modules","status":"open","priority":3,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-14T15:08:33Z","created_by":"Charles Wiltgen","updated_at":"2026-02-14T15:08:33Z"}
{"id":"taglib-wasm-474","title":"Fix TagLibInitializationError code mismatch","description":"src/errors.ts:61 passes 'INITIALIZATION' but TagLibErrorCode type defines 'INITIALIZATION_FAILED'. Consumers matching on error.code will never match.","status":"closed","priority":0,"issue_type":"bug","owner":"charles@wiltgen.net","created_at":"2026-02-10T15:48:44Z","created_by":"Charles Wiltgen","updated_at":"2026-02-10T16:31:47Z","closed_at":"2026-02-10T16:31:47Z","close_reason":"Normalized TagLibErrorCode type to match constructor values"}
{"id":"taglib-wasm-51b","title":"Split src/folder-api.ts into directory module (697 lines → 250 max)","status":"open","priority":2,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-11T10:15:53Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T10:15:53Z"}
{"id":"taglib-wasm-52l","title":"Fix tags: {} violating Tag type in scan error paths","description":"In scanWithWorkerPool and scanWithTagLib (folder-api.ts), error paths return { path: filePath, tags: {}, error: err }. The empty object {} does not satisfy the Tag type which has required fields (title, artist, album, etc.). Consumers destructuring tag fields from error entries get undefined. Return a proper empty Tag with default values instead.","status":"closed","priority":3,"issue_type":"bug","owner":"charles@wiltgen.net","created_at":"2026-02-11T21:01:03Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T21:08:34Z","closed_at":"2026-02-11T21:08:34Z","close_reason":"Fixed in folder-api.ts: removed duplicate I/O, shared progress ref, EMPTY_TAG constant"}
{"id":"taglib-wasm-59s","title":"Remove stale dist/taglib-wasi.wasm (2.8MB)","description":"dist/taglib-wasi.wasm (2.8MB, Jan 4) is older and larger. dist/wasi/taglib_wasi.wasm (643KB, Feb 10) is the canonical EH-enabled binary. The old binary wastes 2.8MB of download bandwidth on npm.","status":"closed","priority":1,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-10T15:48:51Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T14:15:33Z","closed_at":"2026-02-11T14:15:33Z","close_reason":"Deleted stale dist/taglib-wasi.wasm (2.8MB, Jan 4). New EH-enabled binary at dist/wasi/taglib_wasi.wasm (628KB). dist/ is gitignored so this is local cleanup only."}
{"id":"taglib-wasm-5hh","title":"Fix broken .githooks/post-merge hook (empty string chain)","status":"open","priority":2,"issue_type":"bug","owner":"charles@wiltgen.net","created_at":"2026-02-11T10:16:08Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T10:16:08Z"}
{"id":"taglib-wasm-6j9","title":"Research in-process filesystem access (jco, Wasmer SDK, custom imports)","description":"Evaluate approaches to replace sidecar subprocess with in-process filesystem access.\n\n## Approaches to evaluate\n\n### 1. jco + WASI 0.2 Component Model (primary)\n- Jco 1.0 released, production-ready (Bytecode Alliance)\n- WASI 0.2 with real filesystem via preview2-shim\n- Node.js lacks native WASI P2, so jco is the practical JS path\n- Prototype: compile taglib_wasi.wasm as WASI component, transpile with jco\n- Test filesystem access in Node.js and Deno\n\n### 2. Wasmer @wasmer/sdk with WASIX (alternative)\n- Can mount real host directories (unlike @wasmer/wasi which only has MemFS)\n- Previous attempt used wrong package (@wasmer/wasi) — @wasmer/sdk is the correct one\n- Note: security concerns around sandbox bypass (GHSA-55f3-3qvg-8pv5)\n\n### 3. Custom host functions (simplest)\n- Skip WASI filesystem entirely\n- Expose read_file(path)/write_file(path, bytes) as Wasm imports\n- Essentially an in-process version of what sidecar does\n- Lowest complexity, most control, but non-standard\n\n## Success criteria\n- In-process (no subprocess)\n- Real filesystem access (not MemFS)\n- Works in Node.js and Deno\n- Latency competitive with sidecar approach","notes":"ADR written: docs/development/adr-local-filesystem-access.md","status":"closed","priority":1,"issue_type":"feature","owner":"charles@wiltgen.net","created_at":"2026-02-09T12:26:41Z","created_by":"Charles Wiltgen","updated_at":"2026-02-09T13:13:50Z","closed_at":"2026-02-09T13:13:50Z","close_reason":"Implemented in-process WASI host with real filesystem syscalls. loadWasiHost() provides path-based and buffer-based access."}
{"id":"taglib-wasm-6v6","title":"Add fluent MutableTag setters (return this)","status":"closed","priority":2,"issue_type":"feature","owner":"charles@wiltgen.net","created_at":"2026-02-11T17:49:48Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T17:58:14Z","closed_at":"2026-02-11T17:58:14Z","close_reason":"Closed"}
{"id":"taglib-wasm-7jk","title":"Rename verb APIs to read/apply/update convention","description":"API naming redesign from GH #12 discussion. Convention: read* = read-only, apply* = modify and return buffer, update* = modify and write to disk. Changes: setCoverArt → applyCoverArt, getCoverArt → readCoverArt, getFormat → readFormat, getPictureMetadata → readPictureMetadata. New: updatePictures(path, pics) → void, updateCoverArt(path, data, mime) → void. Old names get @deprecated markers.","status":"closed","priority":2,"issue_type":"feature","owner":"charles@wiltgen.net","created_at":"2026-02-11T15:07:32Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T17:58:19Z","closed_at":"2026-02-11T17:58:19Z","close_reason":"Superseded by taglib-wasm-2xx (renamed functions now use read*/apply* convention)"}
{"id":"taglib-wasm-8a9","title":"Fix SonarCloud code smells in folder-api.ts (6 useless assignments, 4 type assertions)","status":"open","priority":3,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-11T10:16:24Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T10:16:24Z"}
{"id":"taglib-wasm-8gh","title":"Fix inaccurate progress counter in concurrent scan batches","description":"In scanWithWorkerPool (folder-api.ts), the 'processed' counter is captured by value via { count: processed } inside batch.map(). All concurrent callbacks in a batch capture the same stale value, so progress reporting is inaccurate. Use a shared mutable ref or increment atomically after each Promise resolves.","status":"closed","priority":3,"issue_type":"bug","owner":"charles@wiltgen.net","created_at":"2026-02-11T21:01:02Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T21:08:34Z","closed_at":"2026-02-11T21:08:34Z","close_reason":"Fixed in folder-api.ts: removed duplicate I/O, shared progress ref, EMPTY_TAG constant"}
{"id":"taglib-wasm-9jz","title":"Phase 2: Core unified tests (both backends)","status":"closed","priority":1,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-10T08:30:05Z","created_by":"Charles Wiltgen","updated_at":"2026-02-10T08:37:17Z","closed_at":"2026-02-10T08:37:17Z","close_reason":"All 4 Phase 2 test files pass: basic-tags (24 steps), audio-properties (12 steps), format-detection (16 steps), cross-backend-parity (10 steps). Both backends produce identical results."}
{"id":"taglib-wasm-a4j","title":"Split src/worker-pool.ts into directory module (480 lines → 250 max)","status":"open","priority":2,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-11T10:16:08Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T10:16:08Z"}
{"id":"taglib-wasm-ajk","title":"Clean up stale root files (MIGRATION_GUIDE, memory-audit.md, TASKS.md)","status":"open","priority":4,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-11T10:16:33Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T10:16:33Z"}
{"id":"taglib-wasm-anc","title":"Type TagLibError.code as TagLibErrorCode not string","description":"src/errors.ts:40 declares code: string instead of code: TagLibErrorCode, defeating the purpose of branded error codes for programmatic handling.","status":"closed","priority":2,"issue_type":"bug","owner":"charles@wiltgen.net","created_at":"2026-02-10T15:49:04Z","created_by":"Charles Wiltgen","updated_at":"2026-02-10T16:43:36Z","closed_at":"2026-02-10T16:43:36Z","close_reason":"TagLibError.code typed as TagLibErrorCode instead of string"}
{"id":"taglib-wasm-aof","title":"Fix denoland/setup-deno@v1 in publish-jsr job","description":".github/workflows/publish-everywhere.yml:190 uses @v1, all other jobs use @v2. Could cause JSR publish failures.","status":"closed","priority":0,"issue_type":"bug","owner":"charles@wiltgen.net","created_at":"2026-02-10T15:48:48Z","created_by":"Charles Wiltgen","updated_at":"2026-02-10T16:31:47Z","closed_at":"2026-02-10T16:31:47Z","close_reason":"Changed denoland/setup-deno@v1 to @v2 in publish-jsr job"}
{"id":"taglib-wasm-b3l","title":"Re-enable or create tracking issues for disabled Windows/Bun CI tests","status":"open","priority":3,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-11T10:16:28Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T10:16:28Z"}
{"id":"taglib-wasm-bcb","title":"Export missing error types and type guards","description":"WorkerError, SidecarError, isWorkerError(), isSidecarError() are thrown/defined but not exported from index.ts. Consumers cannot catch these by type. Also BitrateControlMode type and constants not re-exported.","status":"closed","priority":0,"issue_type":"bug","owner":"charles@wiltgen.net","created_at":"2026-02-10T15:48:53Z","created_by":"Charles Wiltgen","updated_at":"2026-02-10T16:31:48Z","closed_at":"2026-02-10T16:31:48Z","close_reason":"Exported WorkerError, SidecarError, isWorkerError, isSidecarError, BitrateControlMode from index.ts"}
{"id":"taglib-wasm-bcu","title":"Document memory management patterns","description":"Document what happens without dispose(), best practices for long-running apps, memory usage patterns. Add to docs/ directory.","status":"open","priority":2,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-09T12:26:55Z","created_by":"Charles Wiltgen","updated_at":"2026-02-09T12:26:55Z"}
{"id":"taglib-wasm-com","title":"Replace console.warn/error with proper error propagation in runtime loaders","status":"open","priority":3,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-11T10:16:38Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T10:16:38Z"}
{"id":"taglib-wasm-crm","title":"Split src/file-utils.ts into directory module (510 lines → 250 max)","status":"open","priority":2,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-11T10:15:59Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T10:15:59Z"}
{"id":"taglib-wasm-d09","title":"Implement proper Wasm memory management","description":"Audit all _malloc() usage. Add try-finally blocks for _free(). Migrate to RAII pattern with WasmAlloc/WasmArena using 'using' statements per project rules. Affected files: taglib.ts, workers.ts.","status":"closed","priority":0,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-09T12:26:52Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T10:40:58Z","closed_at":"2026-02-11T10:40:58Z","close_reason":"Migrated Emscripten Workers API to RAII memory management using WasmAlloc/WasmArena with using statements. Added emscriptenToWasmExports adapter bridge, Symbol.dispose to AudioFileWorkers, consolidated 5 tag setters via setStringTag helper, migrated TagLibWorkers.open() and processAudioMetadata() to RAII. All 395 tests pass."}
{"id":"taglib-wasm-d40","title":"Add taglib.edit() callback-scoped write method","status":"closed","priority":2,"issue_type":"feature","owner":"charles@wiltgen.net","created_at":"2026-02-11T17:49:41Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T17:58:14Z","closed_at":"2026-02-11T17:58:14Z","close_reason":"Closed"}
{"id":"taglib-wasm-dcr","title":"Fix package author information","description":"package.json has placeholder author info. Update with correct details.","status":"open","priority":4,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-09T12:26:56Z","created_by":"Charles Wiltgen","updated_at":"2026-02-09T12:26:56Z"}
{"id":"taglib-wasm-dqn","title":"Increase test coverage from 64% to 80% target","status":"open","priority":2,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-11T10:16:42Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T10:16:42Z"}
{"id":"taglib-wasm-dxw","title":"Split msgpack/encoder.ts (306 lines) into sub-modules","status":"open","priority":3,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-14T15:08:33Z","created_by":"Charles Wiltgen","updated_at":"2026-02-14T15:08:33Z"}
{"id":"taglib-wasm-e34","title":"Split src/simple.ts into directory module (1,229 lines → 250 max)","status":"open","priority":1,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-11T10:15:48Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T10:15:48Z"}
{"id":"taglib-wasm-f99","title":"Fix flaky concurrent operations performance test","description":"tests/taglib.test.ts:681 has 2000ms limit that is too tight for local runs (failed at 2070ms). Already skipped in CI. Consider 3000ms or env var for limit.","status":"closed","priority":2,"issue_type":"bug","owner":"charles@wiltgen.net","created_at":"2026-02-10T15:48:59Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T13:59:23Z","closed_at":"2026-02-11T13:59:23Z","close_reason":"Assert total time across all formats instead of per-format"}
{"id":"taglib-wasm-gd4","title":"Remove unused imports in simple.ts and taglib-worker.ts","status":"open","priority":3,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-11T10:16:19Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T10:16:19Z"}
{"id":"taglib-wasm-gid","title":"Split msgpack/decoder.ts (299 lines) into sub-modules","status":"open","priority":3,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-14T15:08:33Z","created_by":"Charles Wiltgen","updated_at":"2026-02-14T15:08:33Z"}
{"id":"taglib-wasm-gio","title":"Simplify AudioFile/AudioFileInterface dual export","description":"index.ts:41-44 exports class as AudioFile and interface as AudioFileInterface. Consumers see both in autocomplete, unclear which to use for type annotations.","status":"closed","priority":2,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-10T15:48:55Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T14:15:41Z","closed_at":"2026-02-11T14:15:41Z","close_reason":"Removed AudioFileInterface type export from index.ts. The AudioFileImpl class (exported as AudioFile) already serves as both value and instance type in TypeScript, making the interface alias redundant."}
{"id":"taglib-wasm-gqm","title":"Clean up stubs, docs, and memory files","status":"closed","priority":2,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-09T15:29:12Z","created_by":"Charles Wiltgen","updated_at":"2026-02-09T15:37:04Z","closed_at":"2026-02-09T15:37:04Z","close_reason":"Closed"}
{"id":"taglib-wasm-h5x","title":"All Emscripten-dependent tests must work via both backends","description":"Test quality gap: ~23 tests in taglib.test.ts + tests in picture-api, rating-api, extended-metadata, codec-detection, edge-cases, worker-pool, folder-api, partial-loading, and error-handling only test the Emscripten backend (via TagLib.initialize()). These tests fail in Deno because the unified loader selects WASI (which crashes via Wasmer SDK path). Root causes: (1) loadTagLibModule() in index.ts doesn't forward forceWasmType to the unified loader (2) The Wasmer SDK WASI path has function signature mismatches. Fix: Either fix the unified loader passthrough bug, or migrate these tests to use the backend-adapter.ts pattern (forEachBackend) so they run against both WASI and Emscripten. All user-facing features should be validated on BOTH backends.","status":"open","priority":1,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-10T09:02:19Z","created_by":"Charles Wiltgen","updated_at":"2026-02-10T09:02:29Z"}
{"id":"taglib-wasm-ivd","title":"Split runtime/wasmtime-sidecar.ts (315 lines) into sub-modules","status":"open","priority":3,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-14T15:08:33Z","created_by":"Charles Wiltgen","updated_at":"2026-02-14T15:08:33Z"}
{"id":"taglib-wasm-iyc","title":"Phase 6: Integration workflow tests","status":"closed","priority":2,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-10T08:30:07Z","created_by":"Charles Wiltgen","updated_at":"2026-02-10T08:57:29Z","closed_at":"2026-02-10T08:57:29Z","close_reason":"Integration (8 steps), unicode comprehensive (22 steps) pass for both backends."}
{"id":"taglib-wasm-j18","title":"Split src/runtime/wasi-adapter.ts (520 lines → 250 max)","status":"open","priority":3,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-11T10:16:16Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T10:16:16Z"}
{"id":"taglib-wasm-jzw","title":"Split src/workers.ts into directory module (492 lines → 250 max)","status":"open","priority":2,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-11T10:16:03Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T10:16:03Z"}
{"id":"taglib-wasm-kit","title":"Remove 6 stale build scripts from build/ (build-poc, build-wasi-test, build-dual, test-*)","status":"open","priority":2,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-11T10:16:04Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T10:16:04Z"}
{"id":"taglib-wasm-l64","title":"Fix duplicate worker pool reads in scanWithWorkerPool","description":"scanWithWorkerPool pre-fetches readTags/readProperties/readPictures, then processFileWithWorker makes the same 3 calls again. Every file is read from the worker pool twice. Remove the pre-fetch block (originally labeled 'warm up the worker pool') in folder-api.ts.","status":"closed","priority":3,"issue_type":"bug","owner":"charles@wiltgen.net","created_at":"2026-02-11T21:01:01Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T21:08:34Z","closed_at":"2026-02-11T21:08:34Z","close_reason":"Fixed in folder-api.ts: removed duplicate I/O, shared progress ref, EMPTY_TAG constant"}
{"id":"taglib-wasm-lyc","title":"Split runtime/wasi-host.ts (285 lines) into sub-modules","status":"open","priority":3,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-14T15:08:34Z","created_by":"Charles Wiltgen","updated_at":"2026-02-14T15:08:34Z"}
{"id":"taglib-wasm-m5t","title":"Split src/runtime/unified-loader.ts (360 lines → 250 max)","status":"open","priority":3,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-11T10:16:30Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T10:16:30Z"}
{"id":"taglib-wasm-me3","title":"Split src/runtime/wasi-loader.ts (412 lines → 250 max)","status":"open","priority":3,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-11T10:16:25Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T10:16:25Z"}
{"id":"taglib-wasm-nj0","title":"Update build scripts for WASI SDK 30","status":"closed","priority":2,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-09T15:29:08Z","created_by":"Charles Wiltgen","updated_at":"2026-02-09T15:30:45Z","closed_at":"2026-02-09T15:30:45Z","close_reason":"Closed"}
{"id":"taglib-wasm-nvz","title":"Split src/web-utils.ts into directory module (371 lines → 250 max)","status":"open","priority":3,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-11T10:16:12Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T10:16:12Z"}
{"id":"taglib-wasm-ocp","title":"1.0.0-beta.1 Release Readiness","status":"closed","priority":1,"issue_type":"epic","owner":"charles@wiltgen.net","created_at":"2026-02-10T15:48:28Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T14:15:57Z","closed_at":"2026-02-11T14:15:57Z","close_reason":"All 12 child issues resolved. 4 P0 bugs fixed, 4 P1 verifications completed, 4 P2 cleanup items done. Release readiness achieved."}
{"id":"taglib-wasm-ois","title":"Phase 1: Test infrastructure (adapter + fixtures)","status":"closed","priority":1,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-10T08:30:04Z","created_by":"Charles Wiltgen","updated_at":"2026-02-10T08:35:47Z","closed_at":"2026-02-10T08:35:47Z","close_reason":"Created backend-adapter.ts and shared-fixtures.ts. Both type-check clean."}
{"id":"taglib-wasm-oqn","title":"Make WASI host runtime-agnostic (support Node.js and Bun)","description":"The in-process WASI host (src/runtime/wasi-host.ts) currently uses Deno-specific synchronous APIs (Deno.openSync, Deno.readSync, Deno.seekSync) for WASI syscalls. Node.js and Bun both have equivalent synchronous fs APIs (fs.openSync, fs.readSync, etc.) that could serve the same role. This would enable seek-based I/O for all server-side runtimes instead of forcing Node/Bun through the buffer-based Emscripten path.","status":"closed","priority":1,"issue_type":"feature","owner":"charles@wiltgen.net","created_at":"2026-02-11T15:17:05Z","created_by":"Charles Wiltgen","updated_at":"2026-02-12T12:01:12Z","closed_at":"2026-02-12T12:01:12Z","close_reason":"Fixed 2 straggler Deno calls (folder-api.ts, wasmer-sdk-loader.ts), deprecated legacy wasi-loader.ts, added cross-runtime WASI smoke test passing on Deno/Node/Bun"}
{"id":"taglib-wasm-pfw","title":"Fix SonarCloud coverage path bug (hardcoded /Users/ in CI)","status":"open","priority":3,"issue_type":"bug","owner":"charles@wiltgen.net","created_at":"2026-02-11T10:16:46Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T10:16:46Z"}
{"id":"taglib-wasm-ptz","title":"Fix: Bun incorrectly triggers WASI loader path (GH #12)","description":"Bun sets process.versions.node for compat, so isNode() returns true. Bun gets detected as node-wasi, triggering the WASI path. Also, static import of @wasmer/sdk fails in non-Deno environments. Fix: add isBun() detection before Node checks, and make wasmer-sdk-loader import lazy.","status":"closed","priority":1,"issue_type":"bug","owner":"charles@wiltgen.net","created_at":"2026-02-11T14:55:40Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T15:07:37Z","closed_at":"2026-02-11T15:07:37Z","close_reason":"Fixed: Bun now detected before Node.js, wasmer-sdk-loader import made lazy"}
{"id":"taglib-wasm-qof","title":"Split src/runtime/wasmer-sdk-loader.ts (472 lines → 250 max)","status":"open","priority":3,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-11T10:16:21Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T10:16:21Z"}
{"id":"taglib-wasm-quu","title":"Split utils/file.ts (280 lines) into sub-modules","status":"open","priority":3,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-14T15:08:34Z","created_by":"Charles Wiltgen","updated_at":"2026-02-14T15:08:34Z"}
{"id":"taglib-wasm-r0h","title":"Phase 3: Backend-specific test fixes","status":"closed","priority":1,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-10T08:30:05Z","created_by":"Charles Wiltgen","updated_at":"2026-02-10T08:38:48Z","closed_at":"2026-02-10T08:38:48Z","close_reason":"WASI write roundtrip: 12 tests pass for all 5 formats + unicode + overwrite."}
{"id":"taglib-wasm-s3m","title":"Harden sidecar — fix critical/high code review issues","description":"Fix 6 issues from code review: (1) Add try-finally in wasmtime-sidecar.ts #sendRequest()/#receiveResponse(), (2) Add path traversal validation in taglib_sidecar.c, (3) Fix buffer accumulation in #readExact() (pre-allocate from length prefix), (4) Add mutex/state machine for shutdown race condition, (5) Wrap setSidecarConfig() shutdown in try-finally, (6) Add max length validation for mpack strings in C.","status":"closed","priority":1,"issue_type":"bug","owner":"charles@wiltgen.net","created_at":"2026-02-09T12:26:45Z","created_by":"Charles Wiltgen","updated_at":"2026-02-09T13:13:51Z","closed_at":"2026-02-09T13:13:51Z","close_reason":"C shim now supports path-based access. WASI stubs updated for new binary signatures. Sidecar binary rebuilt with path_open imports."}
{"id":"taglib-wasm-ss1","title":"Refactor taglib_shim.cpp to use FileRef","status":"closed","priority":2,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-09T15:29:11Z","created_by":"Charles Wiltgen","updated_at":"2026-02-09T15:32:36Z","closed_at":"2026-02-09T15:32:36Z","close_reason":"Closed"}
{"id":"taglib-wasm-t67","title":"Make WASI host runtime-agnostic","status":"closed","priority":2,"issue_type":"feature","owner":"charles@wiltgen.net","created_at":"2026-02-11T15:26:44Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T15:36:05Z","closed_at":"2026-02-11T15:36:05Z","close_reason":"Implemented FileSystemProvider DI pattern for runtime-agnostic WASI host"}
{"id":"taglib-wasm-te1","title":"Add tests for API realignment changes","status":"closed","priority":2,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-11T17:49:52Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T17:58:14Z","closed_at":"2026-02-11T17:58:14Z","close_reason":"Closed"}
{"id":"taglib-wasm-ti6","title":"Add locateFile fallback to unified loader loadEmscriptenModule","description":"The unified loader's loadEmscriptenModule (module-loading.ts) doesn't set a locateFile fallback when no wasmUrl is provided, unlike module-loader.ts which does. Emscripten's own import.meta.url handles this since taglib-wrapper.js and taglib-web.wasm are siblings in build/, but adding an explicit locateFile would be consistent and eliminate a potential failure mode. Should fix before GA.","status":"open","priority":3,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-19T17:53:17Z","created_by":"Charles Wiltgen","updated_at":"2026-02-19T17:53:17Z"}
{"id":"taglib-wasm-ttp","title":"Phase 0: Rebuild Emscripten binary","status":"closed","priority":1,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-10T08:30:04Z","created_by":"Charles Wiltgen","updated_at":"2026-02-10T08:33:56Z","closed_at":"2026-02-10T08:33:56Z","close_reason":"Emscripten binary rebuilt (434K wasm). Works with legacyMode:true. Unified loader has a separate bug (doesn't forward forceWasmType)."}
{"id":"taglib-wasm-uxn","title":"Split oversized source files","description":"src/taglib.ts (1229 lines, limit 250), src/types.ts (639 lines), src/errors.ts (264 lines). Extract interfaces, metadata mapping, error classes into separate modules. Must maintain public API compatibility.","status":"closed","priority":0,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-09T12:26:49Z","created_by":"Charles Wiltgen","updated_at":"2026-02-10T18:03:59Z","closed_at":"2026-02-10T18:03:59Z","close_reason":"Split src/errors.ts, src/types.ts, src/taglib.ts into directory modules with re-export shims. All 389 tests pass. All files under 250 lines."}
{"id":"taglib-wasm-uy6","title":"Test audit: production-worthy validation for both Wasm backends","status":"closed","priority":1,"issue_type":"epic","owner":"charles@wiltgen.net","created_at":"2026-02-10T08:29:55Z","created_by":"Charles Wiltgen","updated_at":"2026-02-10T09:02:36Z","closed_at":"2026-02-10T09:02:36Z","close_reason":"Test audit complete. 12 new files, 129 new test steps across both backends. See taglib-wasm-h5x for remaining gap (existing tests not yet dual-backend)."}
{"id":"taglib-wasm-v11","title":"Gitignore generated SonarCloud/test reports in project root","status":"open","priority":2,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-11T10:15:59Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T10:15:59Z"}
{"id":"taglib-wasm-w2c","title":"Verify dist/browser/ exclusion is intentional","description":"package.json:29 excludes dist/browser/ from npm. Contains taglib_emscripten.wasm. If any code path needs this file, npm consumers are broken.","status":"closed","priority":1,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-10T15:49:00Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T14:15:32Z","closed_at":"2026-02-11T14:15:32Z","close_reason":"Verified: No src/ files reference dist/browser/. Exclusion is intentional — standalone build not used by published API."}
{"id":"taglib-wasm-waa","title":"Clarify JSR vs npm import paths in README","description":"Package names differ: JSR @charlesw/taglib-wasm, npm taglib-wasm. README mixes both import styles without clear section headers.","status":"closed","priority":2,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-10T15:48:50Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T14:15:47Z","closed_at":"2026-02-11T14:15:47Z","close_reason":"Added import path note above Quick Start section clarifying Deno (@charlesw/taglib-wasm) vs npm (taglib-wasm) paths. Installation section already shows both."}
{"id":"taglib-wasm-y2v","title":"Verify JSR publish includes WASM binaries","description":"deno.json:37 excludes 'dist/*' then only re-includes dist/taglib-wrapper.js. WASM files in dist/ are likely excluded from JSR publish. JSR users may get a broken package.","status":"closed","priority":1,"issue_type":"bug","owner":"charles@wiltgen.net","created_at":"2026-02-10T15:48:55Z","created_by":"Charles Wiltgen","updated_at":"2026-02-11T14:15:30Z","closed_at":"2026-02-11T14:15:30Z","close_reason":"Verified: JSR publish config includes build/taglib-wrapper.js, build/taglib-wrapper.d.ts, build/taglib-web.wasm. WASI excluded but falls back gracefully to Emscripten."}
{"id":"taglib-wasm-yi4","title":"Update build-wasi.sh for EH sysroot","status":"closed","priority":2,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-09T15:29:10Z","created_by":"Charles Wiltgen","updated_at":"2026-02-09T15:31:50Z","closed_at":"2026-02-09T15:31:50Z","close_reason":"Closed"}
{"id":"taglib-wasm-z5b","title":"Phase 5: Property-based tests","status":"closed","priority":2,"issue_type":"task","owner":"charles@wiltgen.net","created_at":"2026-02-10T08:30:06Z","created_by":"Charles Wiltgen","updated_at":"2026-02-10T08:57:28Z","closed_at":"2026-02-10T08:57:28Z","close_reason":"Property-based tests: 200 roundtrip + 100 idempotency + 100 numeric iterations across both backends."}
